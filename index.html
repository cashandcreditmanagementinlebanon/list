<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cash and Credit Management in Lebanon</title>
  <link rel="icon" href="https://img.icons8.com/color/48/lebanon.png" type="image/png">
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: #000;
    }
    .background {
      background: url('photo-1521327895744-46e309d005b4.jpg') no-repeat center center fixed;
      background-size: cover;
      min-height: 100vh;
      color: #fff;
    }
    header,
    .content {
      background: rgba(0, 0, 0, 0.65);
    }
    header {
      padding: 2rem 1rem;
      text-align: center;
    }
    header h1 {
      margin: 0;
      font-size: 2rem;
    }
    header p {
      font-size: 1rem;
      max-width: 700px;
      margin: 1rem auto 0;
      line-height: 1.6;
    }
    .whatsapp-button {
      display: inline-block;
      margin-top: 1.5rem;
      padding: 0.75rem 1.5rem;
      background-color: #25D366;
      color: white;
      font-weight: bold;
      text-decoration: none;
      border-radius: 5px;
      transition: background-color 0.3s ease;
    }
    .whatsapp-button:hover {
      background-color: #1ebe5d;
    }
    .content {
      padding: 2rem 1rem;
    }
    .search-section {
      text-align: center;
      margin-bottom: 1.5rem;
    }
    .search-section input {
      padding: 0.5rem;
      font-size: 1rem;
      width: 80%;
      max-width: 400px;
      border-radius: 5px;
      border: none;
    }
    .table-section {
      background: rgba(255, 255, 255, 0.95);
      color: #000;
      padding: 1rem;
      border-radius: 8px;
      overflow-x: auto;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      min-width: 600px;
    }
    th, td {
      padding: 0.75rem;
      border: 1px solid #ccc;
      text-align: left;
    }
    th {
      background-color: #f0f0f0;
      font-weight: bold;
    }
    a {
      color: #1a0dab;
      text-decoration: underline;
    }
    a:hover {
      color: #0c0080;
    }
    @media (max-width: 600px) {
      header h1 {
        font-size: 1.5rem;
        @media (max-width: 600px) {
  .translate-top {
    top: 4.5rem; /* push it down from the top to clear the title */
    right: 0.5rem;
  }

  .translate-top button {
    font-size: 0.8rem;
    padding: 0.4rem 0.6rem;
  }
}
      }
      header p {
        font-size: 0.9rem;
      }
      th, td {
        padding: 0.5rem;
      }
    }
    .translate-top {
      position: absolute;
      top: 1rem;
      right: 1rem;
      z-index: 9999;
    }
    .translate-top button {
      margin: 0 0.25rem;
      padding: 0.4rem 0.8rem;
      font-size: 0.9rem;
      background-color: #333;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    .translate-top button:hover {
      background-color: #555;
    }
  </style>
</head>
  <script type="text/javascript">
  function translateTo(lang) {
    const interval = setInterval(() => {
      const select = document.querySelector('.goog-te-combo');
      if (select) {
        select.value = lang;
        select.dispatchEvent(new Event('change'));
        clearInterval(interval);
      }
    }, 100);
  }

  function googleTranslateElementInit() {
    new google.translate.TranslateElement({
      pageLanguage: 'en',
      includedLanguages: 'en,fr,ar',
      layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
      autoDisplay: false
    }, 'google_translate_element');
  }
</script>
<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
<body>    
  <div id="language-switcher" class="translate-top">
    <button onclick="translateTo('en')">üá¨üáß English</button>
    <button onclick="translateTo('fr')">üá´üá∑ Fran√ßais</button>
    <button onclick="translateTo('ar')">üá±üáß ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</button>
  </div>
  <div id="google_translate_element" style="display: none;"></div>

  <div class="background">
    <header>
      <h1>üí≥ Cash and Credit Management in Lebanon</h1>
      <p>
        <strong>What is this site for?</strong>
      </p>
      <p>
        This is a list of various types of commerces and shops in Lebanon where you can use a USD credit or debit card to pay and manage your available cash a bit better.<br><br>
        This is a live site, and we add places regularly as soon as we know about them, voluntarily. <strong>NONE</strong> of this is sponsored by any business or individual in any way.
        (In the table below, scroll left to right to see additional info like location, website, and notes.)<br><br>
        You can also use the search box to find a business quickly. Please share with the admin if you know of any other places.
      </p>
      <div>
        <a class="whatsapp-button" href="https://wa.me/96179300431" target="_blank">üì± Contact via WhatsApp</a>
      </div>
      <div style="text-align: center; margin-top: 1rem;">
        <a href="#atm-fees" class="whatsapp-button" style="background-color: #007bff;">
          üí∞ Click here to see ATM fees in Lebanon
        </a>
      </div>
    </header>

    <div class="content">
      <div class="search-section">
        <input type="text" id="searchInput" placeholder="Search for a business..." onkeyup="filterTable()" />
      </div>

      <div class="table-section">
        <table id="dataTable">
          <thead><tr><th>Loading...</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>

      <div id="atm-fees" class="table-section" style="margin-top:2rem;">
        <h2><strong>ATM Withdrawal fees*</strong></h2>
        <p>*Please note that withdrawal fees are subject to bank of origin and may differ from one bank to another. The shown percentages are an average as reported by most international card holders.</p>
        <table>
          <tr>
            <th><a href="https://www.fransabank.com/corporate/branches-location" target="_blank" rel="noopener noreferrer">Fransabank Bank</a></th>
            <th><a href="https://www.ambank.com/english/contact-us/branches-and-atms" target="_blank" rel="noopener noreferrer">AM Bank</a></th>
            <th><a href="https://www.creditlibanais.com.lb/find-us?type=5&country=6" target="_blank" rel="noopener noreferrer">Credit Libanais</a></th>
            <th>Most other banks</th>
          </tr>
          <tr>
            <td>2.5%</td>
            <td>3%</td>
            <td>3.5%</td>
            <td>5%</td>
          </tr>
        </table>
      </div>
    </div>
  </div>

  <script>
    let allRows = [];

    async function fetchTableData() {
      try {
        const res = await fetch("https://script.google.com/macros/s/AKfycbzoSoF4w0xcc3I7sZU-gIDgbzkiaB5jhfjYdCjD3giBPJ137fnvdHtjjArot5Xv3DDG/exec");
        const data = await res.json();
        if (!Array.isArray(data) || !data.length) return;
        allRows = data;
        buildTable(data);
      } catch (err) {
        document.querySelector("#dataTable").outerHTML = "<p>‚ö†Ô∏è Failed to load data.</p>";
        console.error("Error loading API:", err);
      }
    }

    function buildTable(data) {
      const table = document.getElementById("dataTable");
      const headers = Object.keys(data[0]);
      const thead = table.querySelector("thead");
      const tbody = table.querySelector("tbody");

      thead.innerHTML = "<tr>" + headers.map(h => `<th>${h}</th>`).join("") + "</tr>";
      tbody.innerHTML = "";

      data.forEach(row => {
        const tr = document.createElement("tr");
        headers.forEach(h => {
          const td = document.createElement("td");
          const value = row[h];

          if (value && typeof value === "object" && value.url) {
            td.innerHTML = `<a href="${value.url}" target="_blank">${value.label}</a>`;
          } else {
            td.textContent = value || "";
          }

          tr.appendChild(td);
        });
        tbody.appendChild(tr);
      });
    }

    function filterTable() {
  const query = document.getElementById("searchInput").value.toLowerCase();
  const filtered = allRows.filter(row =>
    Object.values(row).map(val =>
      typeof val === "object" ? `${val.label} ${val.url}` : val
    ).join(" ").toLowerCase().includes(query)
  );
  buildTable(filtered);
}fetchTableData();
</script>
